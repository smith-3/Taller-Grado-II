% Los anexos se estructuran como capítulos con numeración A, B, C...

% Título general de la sección de anexos
\chapter*{Anexos}
\addcontentsline{toc}{chapter}{Anexos}

\chapter{Manual de instalación}\label{ann:instalacion}
\section{Introducción}
Este anexo describe los requisitos, pasos de instalación y acciones de mantenimiento (actualización, desinstalación), así como soluciones a problemas comunes.
\section{Requisitos del sistema}
\begin{itemize}
  \item Android 8.0 (API 26) o superior.
  \item ~100 MB de almacenamiento disponible para datos y exportaciones.
  \item Conectividad a internet opcional: la app funciona sin conexión y sincroniza cuando hay red.
  \item Permisos: notificaciones (para recordatorios) y almacenamiento/compartir (para exportar horarios).
\end{itemize}

\section{Pasos de instalación}

\subsection{Opción A: desde APK (distribución interna)}
\begin{enumerate}
  \item Copiar el archivo \texttt{TecnoTime.apk} al dispositivo (carpeta Descargas).
  \item Habilitar Instalar apps desconocidas para el gestor de archivos.
  \item Abrir el APK y confirmar la instalación.
  \item Abrir TecnoTime desde el cajón de aplicaciones.
\end{enumerate}

\subsection{Opción B: desde tienda (si aplica)}
Buscar TecnoTime en la tienda, verificar editor y permisos, e instalar normalmente.
Durante el periodo previo a la publicación general (prevista para el 25 de noviembre de 2025), la instalación está disponible mediante el programa de pruebas de Google Play en \url{https://play.google.com/apps/testing/com.fragmind.tecnotime}; el acceso requiere unirse como tester.

\section{Actualización y desinstalación}
Para actualizar, instalar la nueva versión sobre la existente. Para desinstalar, mantener pulsado el icono y seleccionar Desinstalar.

\section{Solución de problemas}
\begin{itemize}
  \item No se instala: verificar espacio libre y permiso de orígenes desconocidos.
  \item Widget no actualiza: excluir de ahorro de batería y permitir ejecución en segundo plano.
  \item No llegan notificaciones: habilitar el canal de notificaciones de TecnoTime en Ajustes.
\end{itemize}

\chapter{Manual de usuario}\label{ann:manual-usuario}
\begin{multicols}{2}

% Versión más breve y directa

\section{¿Qué hace?}
Organiza tus materias, evita choques, te recuerda clases y te deja compartir o importar horarios. Pensado para estudiantes FCyT.

\section{Requisitos}
Android 8.0+; ~30 MB libres. La IA (Simón) es opcional y pesa más. Funciona sin internet para consultar.

\section{Instalación y primer uso}
Instala desde Play Store o APK. Al abrir: acepta permisos, pon tu nombre, elige 12/24h y tema, selecciona carrera(s) y activa recordatorios si quieres. La IA “Simón” es opcional.

\section{Pantallas y tareas}
\subsection{Inicio (hoy)}
\begin{itemize}
  \item Ve tarjetas con hora, materia, aula y docente.
  \item Desliza para cambiar de día o toca la fecha.
  \item Botón “Vista semanal” para ver todo compacto.
\end{itemize}

\subsection{Agregar/editar materia}
\begin{itemize}
  \item Agrega: nivel → materia → grupo. Opcional: color/emoji.
  \item Edita desde la tarjeta: cambiar grupo, color o emoji.
\end{itemize}

\subsection{Carreras}
\begin{itemize}
  \item Ve progreso por niveles y abre el PDF origen.
  \item Sincroniza desde tu galería o desincroniza si hace falta.
\end{itemize}

\section{Exportar / Importar}
\begin{itemize}
  \item Exporta tu horario como imagen, PDF o Excel y compártelo.
  \item Enviar copia (JSON): elige qué materias incluir.
  \item Importar JSON: no duplica materias ya inscritas.
\end{itemize}

\section{Recordatorios e IA}
\begin{itemize}
  \item Notificaciones antes de clases con la anticipación que elijas.
  \item Simón (IA): descarga/borra el modelo y prueba mensajes.
\end{itemize}

\section{Widget}
Añádelo desde el lanzador; muestra el día y puedes navegar.

\section{Ajustes}
Formato 12/24h, tema claro/oscuro, fines de semana, docentes favoritos, versión y novedades.

\section{Privacidad}
Sin cuenta. Datos locales. Los JSON no llevan info personal.

% (Se eliminan secciones FAQ y Soporte a solicitud del usuario)

% Glosario mínimo (opcional)
\section{Glosario}
\begin{itemize}
  \item Card: tarjeta con datos de una clase.
  \item FAB: botón flotante para acciones rápidas.
\end{itemize}

\end{multicols}

\chapter{Instrumento de encuesta: cuestionario completo}\label{ann:instrumento}
% Presentar el cuestionario en dos columnas para mejor aprovechamiento del espacio
\begin{multicols}{2}
\input{sections/anexos/anexoA_instrumento}
\end{multicols}

\chapter{Historias de usuario tabuladas}\label{ann:historias}
% Compactar espaciado y permitir corte entre páginas solo en este anexo
\begingroup
\setlength{\LTpre}{0pt}\setlength{\LTpost}{0pt}
\renewcommand\arraystretch{1.05}
\setlength{\tabcolsep}{4pt}
\input{sections/anexos/anexoF_historias}
\endgroup

\chapter{Trazabilidad de componentes de TecnoTime}\label{ann:trazabilidad-tecnotime}
\href{https://github.com/smith-3/TecnoTime}{TecnoTime}.

\begin{longtable}{@{}p{7cm}p{9cm}@{}}
\caption{Trazabilidad de componentes y rutas del proyecto \texttt{TecnoTime}}
\label{tab:trazabilidad-tecnotime}\\

\toprule
Componente & Ruta \\
\midrule
\endfirsthead

\multicolumn{2}{c}%
{\tablename\ \thetable\ -- Continuación} \\
\toprule
Componente & Ruta \\
\midrule
\endhead

\midrule
\multicolumn{2}{r}{Continúa en la siguiente página} \\
\endfoot

\bottomrule
\endlastfoot

% Dominio
\texttt{Subject} & \path{domain/model/Subject.kt} \\
\texttt{Group} & \path{domain/model/Group.kt} \\
\texttt{GroupSchedule} & \path{domain/model/GroupSchedule.kt} \\
\texttt{Career} & \path{domain/model/Career.kt} \\
\texttt{Level} & \path{domain/model/Level.kt} \\
\texttt{Teacher} & \path{domain/model/Teacher.kt} \\
\texttt{Classroom} & \path{domain/model/Classroom.kt} \\
\texttt{SelectedSubject} & \path{domain/model/SelectedSubject.kt} \\
\texttt{UserSettings} & \path{domain/model/UserSettings.kt} \\
\texttt{ScheduleGenerationParams} & \path{domain/model/ScheduleGenerationParams.kt} \\
\texttt{ShareableScheduleDto} & \path{domain/model/ShareableScheduleDto.kt} \\
\texttt{SubjectMapper} & \path{domain/mapper/SubjectMapper.kt} \\
\texttt{GroupMapper} & \path{domain/mapper/GroupMapper.kt} \\
\texttt{GroupScheduleMapper} & \path{domain/mapper/GroupScheduleMapper.kt} \\
\texttt{UserSettingsMapper} & \path{domain/mapper/UserSettingsMapper.kt} \\
\texttt{AutoSyncUseCase} & \path{domain/usecase/AutoSyncUseCase.kt} \\
\texttt{RefreshSubjectsForCareerUseCase} & \path{domain/usecase/RefreshSubjectsForCareerUseCase.kt} \\
\texttt{ImportCareerSchedulesUseCase} & \path{domain/usecase/ImportCareerSchedulesUseCase.kt} \\
\texttt{GenerateSchedulesUseCaseImpl} & \path{domain/usecase/GenerateSchedulesUseCaseImpl.kt} \\
\texttt{ScheduleGenerator} & \path{domain/usecase/ScheduleGenerator.kt} \\
\texttt{GenerateWeeklyScheduleImageUseCase} & \path{domain/usecase/GenerateWeeklyScheduleImageUseCase.kt} \\
\texttt{GenerateWeeklySchedulePdfUseCase} & \path{domain/usecase/GenerateWeeklySchedulePdfUseCase.kt} \\
\texttt{GenerateScheduleExcelUseCase} & \path{domain/usecase/GenerateScheduleExcelUseCase.kt} \\
\texttt{GenerateShareableScheduleJsonUseCase} & \path{domain/usecase/GenerateShareableScheduleJsonUseCase.kt} \\
\texttt{LoadShareableScheduleUseCase} & \path{domain/usecase/LoadShareableScheduleUseCase.kt} \\
\texttt{ImportSharedScheduleUseCase} & \path{domain/usecase/ImportSharedScheduleUseCase.kt} \\
\texttt{ShareableScheduleJsonGenerator} & \path{domain/usecase/ShareableScheduleJsonGenerator.kt} \\
\texttt{ShowNotificationUseCase} & \path{domain/usecase/ShowNotificationUseCase.kt} \\
\texttt{ScheduleNotificationUseCase} & \path{domain/usecase/ScheduleNotificationUseCase.kt} \\
\texttt{SyncCareerFromLocalPdfUseCase} & \path{domain/usecase/SyncCareerFromLocalPdfUseCase.kt} \\
\texttt{ScheduleStrategyFactory} & \path{domain/service/ScheduleStrategyFactory.kt} \\
\texttt{AcceptConflictsStrategy} & \path{domain/service/AcceptConflictsStrategy.kt} \\
\texttt{MinimizeGapsStrategy} & \path{domain/service/MinimizeGapsStrategy.kt} \\
\texttt{PrioritizeTeachersStrategy} & \path{domain/service/PrioritizeTeachersStrategy.kt} \\
\texttt{CompositeStrategy} & \path{domain/service/CompositeStrategy.kt} \\
\texttt{NetworkConnectivityChecker} & \path{domain/service/NetworkConnectivityChecker.kt} \\
\texttt{SyncPreferences} & \path{domain/service/SyncPreferences.kt} \\
\texttt{NotificationServiceImpl} & \path{domain/service/NotificationServiceImpl.kt} \\
\texttt{NotificationStyler} & \path{domain/service/NotificationStyler.kt} \\
\texttt{ModelInitializationService} & \path{domain/service/ModelInitializationService.kt} \\
\texttt{ModelDownloader} & \path{domain/service/ModelDownloader.kt} \\
\texttt{AiModelUsageManager} & \path{domain/service/AiModelUsageManager.kt} \\
\texttt{NotifyWorker} & \path{domain/worker/NotifyWorker.kt} \\
\texttt{ExponentialBackoff} & \path{domain/service/ExponentialBackoff.kt} \\
\texttt{CircuitBreaker} & \path{domain/service/CircuitBreaker.kt} \\

% Datos
\texttt{SubjectEntity} & \path{data/entity/SubjectEntity.kt} \\
\texttt{GroupEntity} & \path{data/entity/GroupEntity.kt} \\
\texttt{GroupScheduleEntity} & \path{data/entity/GroupScheduleEntity.kt} \\
\texttt{CareerEntity} & \path{data/entity/CareerEntity.kt} \\
\texttt{LevelEntity} & \path{data/entity/LevelEntity.kt} \\
\texttt{TeacherEntity} & \path{data/entity/TeacherEntity.kt} \\
\texttt{ClassroomEntity} & \path{data/entity/ClassroomEntity.kt} \\
\texttt{SelectedSubjectEntity} & \path{data/entity/SelectedSubjectEntity.kt} \\
\texttt{UserSettingsEntity} & \path{data/entity/UserSettingsEntity.kt} \\
\texttt{SubjectRepository} & \path{data/repository/SubjectRepository.kt} \\
\texttt{GroupRepository} & \path{data/repository/GroupRepository.kt} \\
\texttt{GroupScheduleRepository} & \path{data/repository/GroupScheduleRepository.kt} \\
\texttt{CareerRepository} & \path{data/repository/CareerRepository.kt} \\
\texttt{LevelRepository} & \path{data/repository/LevelRepository.kt} \\
\texttt{TeacherRepository} & \path{data/repository/TeacherRepository.kt} \\
\texttt{ClassroomRepository} & \path{data/repository/ClassroomRepository.kt} \\
\texttt{SelectedSubjectRepository} & \path{data/repository/SelectedSubjectRepository.kt} \\
\texttt{UserSettingsRepository} & \path{data/repository/UserSettingsRepository.kt} \\
\texttt{ScheduleScraper} & \path{data/remote/ScheduleScraper.kt} \\
\texttt{PdfDownloader} & \path{data/remote/PdfDownloader.kt} \\
\texttt{PdfExtractor} & \path{data/remote/PdfExtractor.kt} \\
\texttt{PdfParser} & \path{data/remote/PdfParser.kt} \\
\texttt{Utils} & \path{data/util/Utils.kt} \\

% Presentación
\texttt{WelcomeScreen} & \path{presentation/welcome/WelcomeScreen.kt} \\
\texttt{WelcomeViewModel} & \path{presentation/welcome/WelcomeViewModel.kt} \\
\texttt{AddSubjectFlowScreen} & \path{presentation/addsubject/AddSubjectFlowScreen.kt} \\
\texttt{AddSubjectViewModel} & \path{presentation/addsubject/AddSubjectViewModel.kt} \\
\texttt{SelectLevelScreen} & \path{presentation/addsubject/SelectLevelScreen.kt} \\
\texttt{SelectSubjectScreen} & \path{presentation/addsubject/SelectSubjectScreen.kt} \\
\texttt{SelectGroupScreen} & \path{presentation/addsubject/SelectGroupScreen.kt} \\
\texttt{ColorPickerScreen} & \path{presentation/addsubject/ColorPickerScreen.kt} \\
\texttt{EmojiPickerScreen} & \path{presentation/addsubject/EmojiPickerScreen.kt} \\
\texttt{EditGroupScreen} & \path{presentation/editgroup/EditGroupScreen.kt} \\
\texttt{EditGroupSelectScreen} & \path{presentation/editgroup/EditGroupSelectScreen.kt} \\
\texttt{EditGroupViewModel} & \path{presentation/editgroup/EditGroupViewModel.kt} \\
\texttt{EditColorScreen} & \path{presentation/editgroup/EditColorScreen.kt} \\
\texttt{EditEmojiScreen} & \path{presentation/editgroup/EditEmojiScreen.kt} \\
\texttt{HomeScreen} & \path{presentation/home/HomeScreen.kt} \\
\texttt{WeekDayTabsAnimated} & \path{presentation/home/WeekDayTabsAnimated.kt} \\
\texttt{ScheduleAppWidgetProvider} & \path{presentation/widget/ScheduleAppWidgetProvider.kt} \\
\texttt{ScheduleRemoteViewsService} & \path{presentation/widget/ScheduleRemoteViewsService.kt} \\
\texttt{WidgetDateUtils} & \path{presentation/widget/WidgetDateUtils.kt} \\
\texttt{WidgetPrefs} & \path{presentation/widget/WidgetPrefs.kt} \\
\texttt{GenerateScheduleConfigScreen} & \path{presentation/generateSchedule/GenerateScheduleConfigScreen.kt} \\
\texttt{GenerateScheduleViewModel} & \path{presentation/generateSchedule/GenerateScheduleViewModel.kt} \\
\texttt{GenerateScheduleResultsScreen} & \path{presentation/generateSchedule/GenerateScheduleResultsScreen.kt} \\
\texttt{SchedulePreview} & \path{presentation/generateSchedule/SchedulePreview.kt} \\
\texttt{SettingsSendScheduleScreen} & \path{presentation/settings/sendschedule/SettingsSendScheduleScreen.kt} \\
\texttt{SettingsSendScheduleViewModel} & \path{presentation/settings/sendschedule/SettingsSendScheduleViewModel.kt} \\
\texttt{AiManagementViewModel} & \path{presentation/ai/AiManagementViewModel.kt} \\
\texttt{NotificationActionReceiver} & \path{presentation/notification/NotificationActionReceiver.kt} \\

% Aplicación
\texttt{TecnoTimeApp} & \path{app/src/main/java/com/fragmind/tecnotime/TecnoTimeApp.kt} \\

\end{longtable}

% Fin de anexos
