%%{init: {
  "theme": "base",
  "themeVariables": {
    "fontFamily": "Arial, sans-serif",
    "fontSize": "14px",
    "lineColor": "#4A90E2"
  }
}}%%
flowchart TD
    A[Inicio]:::step
    B{¿Obligatorias &gt; límite?}:::decision

    C[Priorizar obligatorias]:::step
    D[Incluir obligatorias]:::step

    E{¿Docentes favoritos?}:::decision

    F[Priorizar grupos con favoritos]:::step
    G[Usar grupos disponibles]:::step

    H[Ordenar candidatos: obligatorias → favoritos → nivel]:::step
    I[Continuar a evaluación]:::final

    %% Flujo
    A --> B
    B -->|Sí| C
    B -->|No| D

    C --> E
    D --> E

    E -->|Sí| F
    E -->|No| G

    F --> H
    G --> H

    H --> I

    %% Estilos
    classDef step fill:#E8F4FD,stroke:#4A90E2,stroke-width:2px,color:#333,rx:6,ry:6;
    classDef decision fill:#FFF7E0,stroke:#E0A100,stroke-width:2px,color:#333,rx:6,ry:6;
    classDef final fill:#DFF3FF,stroke:#4A90E2,stroke-width:2px,color:#000,rx:6,ry:6;
