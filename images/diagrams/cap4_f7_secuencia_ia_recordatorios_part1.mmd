%%{init: {
  "theme": "base",
  "themeVariables": {
    "fontFamily": "Arial, sans-serif",
    "fontSize": "14px"
  }
}}%%
sequenceDiagram
    autonumber
    participant U as üë§ Usuario
    participant AI as üñ•Ô∏è AiIntroScreen
    participant VM as üß† AiManagementViewModel
    participant SIMON as ‚è∞ SimonScheduler
    participant MOTIV as üí¨ SimonMotivationalScheduler
    participant OBS as üëÄ ClassReminderSyncObserver
    participant NOTIF as üîî NotificationService

    U->>AI: Activa IA y recordatorios
    AI->>VM: toggleAi()<br/>enableClassNotifications = true

    VM->>SIMON: scheduleClassReminders()
    SIMON->>OBS: registerObserver()

    OBS->>OBS: Monitorear cambios<br/>en el horario
    OBS->>OBS: Detecta clase pr√≥xima

    OBS->>SIMON: onClassReminder()
    SIMON->>MOTIV: generateMotivationalMessage()
    MOTIV->>NOTIF: scheduleNotification()<br/>(10 min antes)

    NOTIF-->>U: Mostrar notificaci√≥n<br/>(schedule_channel)
